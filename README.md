### **Тестовое задание: in-memory брокер сообщений**

**Задание:** разработать и реализовать in-memory брокер сообщений на языке Rust. Брокер должен обеспечивать распределение потоков сообщений по топикам, при этом каждое сообщение может иметь опциональный ключ. Формат сообщения и ключа, а также протокол взаимодействия с брокером выбирает кандидат (например, байтовый массив или JSON для данных; TCP или HTTP \+ SSE для взаимодействия).

### **Требуемые функции**

Брокер должен поддерживать следующие операции:

1. **Создание топика:** добавление нового топика для сообщений.  
2. **Подписка на сообщения:** регистрация клиента на получение сообщений из указанного топика.  
3. **Отписка от сообщений:** прекращение отправки сообщений клиенту из указанного топика.  
4. **Добавление сообщения:** отправка сообщения в конкретный топик для дальнейшей доставки подписчикам.

### **Дополнительные функции (будет плюсом)**

Реализация следующих функций будет преимуществом:

* **Retention для топиков:** поддержка параметра времени хранения сообщений в топике, по истечении которого сообщение удаляется и становится недоступным для подписчиков.  
* **Compaction для топиков:** поддержка механизма компакции сообщений. При этом в топике сохраняется только последнее сообщение с определённым ключом, все предыдущие сообщения с таким же ключом удаляются. См. [документацию Kafka](https://kafka.apache.org/documentation/#compaction) для справки.  
* **Commit-механизм:** сообщение считается доставленным, только если клиент явно сообщил об этом брокеру. До подтверждения доставки сообщение должно оставаться доступным для повторной отправки.

**Требования к реализации:**

* Язык: Rust.  
* Использование библиотек/фреймворков остаётся на усмотрение кандидата.

